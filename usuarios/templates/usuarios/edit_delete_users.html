{% extends "usuarios/base.html" %}

{% block content %}
<div class="search-user-container">
    <h2>Buscar Usuário</h2>

    <form method="get">
        <label for="search">Buscar por CPF ou Nome:</label>
        <input type="text" name="search">
        <input type="submit" value="Buscar">
    </form>

    <table>
        <thead>
            <tr>
                <th>CPF</th>
                <th>Nome</th>
                <th>Email</th>
                <th>Editar</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.cpf }}</td>
                <td>{{ user.nome }}</td>
                <td>{{ user.email }}</td>
                <td><a href="{% url 'edit_user' user.cpf %}">Editar</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="edit-user-container">
    <h2>Editar Usuário</h2>

    <form method="post">
        {% csrf_token %}
        <label for="cpf">CPF:</label>
        <input type="text" name="cpf" value="{{ selected_user.cpf }}" required>
        <br>

        <label for="email">E-mail:</label>
        <input type="email" name="email" value="{{ selected_user.email }}" required>
        <br>

        <label for="cargo">Cargo:</label>
        <input type="text" name="cargo" value="{{ selected_user.cargo }}">
        <br>

        <label for="nivel_acesso">Nível de Acesso:</label>
        <input type="text" name="nivel_acesso" value="{{ selected_user.nivel_acesso }}">
        <br>

        <label for="nivel_organizacional">Nível Organizacional:</label>
        <input type="text" name="nivel_organizacional" value="{{ selected_user.nivel_organizacional }}">
        <br>

        <label for="nome">Nome:</label>
        <input type="text" name="nome" value="{{ selected_user.nome }}">
        <br>

        <label for="data_nascimento">Data de Nascimento:</label>
        <input type="date" name="data_nascimento" value="{{ selected_user.data_nascimento }}">
        <br>

        <label for="data_ingresso">Data de Ingresso:</label>
        <input type="date" name="data_ingresso" value="{{ selected_user.data_ingresso }}">
        <br>

        <label for="celular">Celular:</label>
        <input type="text" name="celular" value="{{ selected_user.celular }}">
        <br>

        <input type="submit" value="Atualizar">
    </form>
</div>
{% endblock %}
